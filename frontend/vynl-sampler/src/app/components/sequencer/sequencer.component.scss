// sequencer.component.scss - PRODUCER EDITION
.sequencer-container {
  font-family: 'Inter', 'SF Pro Display', system-ui, sans-serif;
  contain: layout style paint;
  
  // Glass effect consistente
  &.glass-fast {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
}

// ğŸšï¸ Transport Section Premium
.transport-section {
  contain: layout;
  
  .play-btn-premium {
    background: linear-gradient(135deg, 
      rgba(255, 255, 255, 0.15),    // ğŸ‘ˆ BLANCO SUTIL (estado normal)
      rgba(240, 240, 240, 0.2)      // ğŸ‘ˆ BLANCO DEGRADADO
    );
    border-color: rgba(255, 255, 255, 0.4);  // ğŸ‘ˆ BORDE BLANCO
    color: rgba(255, 255, 255, 0.8);
    
    &.playing {
     background: linear-gradient(135deg, 
        rgba(244, 67, 54, 0.8),      // ğŸ‘ˆ ROJO CUANDO REPRODUCE
        rgba(211, 47, 47, 0.9)       // ğŸ‘ˆ ROJO PROFUNDO
      );
      border-color: rgba(244, 67, 54, 1);
      color: white;
      box-shadow: 0 0 20px rgba(244, 67, 54, 0.3);
    }
    
    &:hover {
       transform: scale(1.05);
      background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.25),   // ğŸ‘ˆ HOVER BLANCO MÃS INTENSO
        rgba(240, 240, 240, 0.3)
      );
      border-color: rgba(255, 255, 255, 0.6);
      box-shadow: 0 4px 20px rgba(255, 255, 255, 0.1);
    }
  }
  
  .bpm-section, .step-indicator-premium {
    background: rgba(255, 255, 255, 0.08);   // ğŸ‘ˆ FONDO BLANCO SUTIL
    border-color: rgba(255, 255, 255, 0.2);  // ğŸ‘ˆ BORDE BLANCO
    
    label {
      color: rgba(255, 255, 255, 0.7);       // ğŸ‘ˆ LABELS EN BLANCO
    }
    
    .bpm-input-premium {
      background: transparent;
      color: rgba(255, 255, 255, 0.9);       // ğŸ‘ˆ TEXTO BLANCO
      
      &:focus {
        outline: none;
        color: rgba(255, 255, 255, 1);       // ğŸ‘ˆ BLANCO PURO AL FOCUS
        text-shadow: 0 0 4px rgba(255, 255, 255, 0.3);
      }
    }
    
    .step-display-premium {
      background: rgba(255, 255, 255, 0.15);  // ğŸ‘ˆ FONDO BLANCO
      color: rgba(0, 0, 0, 0.8);              // ğŸ‘ˆ TEXTO NEGRO PARA CONTRASTE
      border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    .bpm-tap-btn {
      background: rgba(255, 255, 255, 0.1);   // ğŸ‘ˆ FONDO BLANCO SUTIL
      color: rgba(255, 255, 255, 0.7);        // ğŸ‘ˆ TEXTO BLANCO
      transition: all 0.1s ease;
      
      &:hover {
        background: rgba(255, 255, 255, 0.2);  // ğŸ‘ˆ HOVER BLANCO
        color: rgba(255, 255, 255, 0.9);
        transform: scale(1.1);
      }
      
      &:active {
        transform: scale(0.95);
        background: rgba(255, 255, 255, 0.3);
      }
    }
  }
  
  .swing-control-premium, .humanize-control-premium {
    background: rgba(255, 255, 255, 0.08);   // ğŸ‘ˆ FONDO BLANCO SUTIL
    border-color: rgba(255, 255, 255, 0.2);  // ğŸ‘ˆ BORDE BLANCO
    
    label {
      color: rgba(255, 255, 255, 0.7);       // ğŸ‘ˆ LABELS EN BLANCO
    }
    
    span {
      color: rgba(255, 255, 255, 0.8);       // ğŸ‘ˆ VALORES EN BLANCO
    }
    
    .swing-slider, .humanize-slider {
      -webkit-appearance: none;
      appearance: none;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.2);  // ğŸ‘ˆ TRACK BLANCO
      
      &::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        background: linear-gradient(135deg, 
          rgba(255, 255, 255, 0.9),          // ğŸ‘ˆ THUMB BLANCO
          rgba(240, 240, 240, 1)
        );
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid rgba(0, 0, 0, 0.2); // ğŸ‘ˆ BORDE NEGRO SUTIL
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      }
      
      &::-moz-range-thumb {
        width: 20px;
        height: 20px;
        background: linear-gradient(135deg, 
          rgba(255, 255, 255, 0.9),
          rgba(240, 240, 240, 1)
        );
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid rgba(0, 0, 0, 0.2);
      }
    }
  }
  
  .advanced-btn {
    background: rgba(255, 255, 255, 0.1);    // ğŸ‘ˆ FONDO BLANCO SUTIL
    border-color: rgba(255, 255, 255, 0.3);  // ğŸ‘ˆ BORDE BLANCO
    color: rgba(255, 255, 255, 0.8);         // ğŸ‘ˆ TEXTO BLANCO
    
    &.active {
      background: rgba(255, 255, 255, 0.2);  // ğŸ‘ˆ ACTIVO BLANCO MÃS INTENSO
      border-color: rgba(255, 255, 255, 0.5);
      color: rgba(255, 255, 255, 1);         // ğŸ‘ˆ TEXTO BLANCO PURO
      box-shadow: 0 2px 8px rgba(255, 255, 255, 0.2);
    }
    
    &:hover {
      background: rgba(255, 255, 255, 0.15);  // ğŸ‘ˆ HOVER BLANCO
      border-color: rgba(255, 255, 255, 0.4);
      color: rgba(255, 255, 255, 0.9);
    }
  }
}


// ğŸ¹ Sequencer Main Premium - OPTIMIZADO SIN LAG
.sequencer-main {
  contain: layout;
  
  .steps-header {
    contain: layout; // âš¡ OPTIMIZACIÃ“N ADICIONAL
    
    .step-number {
      // âŒ REMOVIDO: transition (causa lag)
      // transition: all 0.1s ease; 
      
      contain: layout style; // âš¡ OPTIMIZACIÃ“N DE RENDERING
      will-change: background-color; // âš¡ SOLO CAMBIAR BACKGROUND
      
      &.current-step-header {
        background: linear-gradient(135deg, 
          rgba(244, 67, 54, 0.9),      // ğŸ‘ˆ ROJO CONSISTENTE
          rgba(211, 47, 47, 1)         // ğŸ‘ˆ ROJO PROFUNDO
        );
        color: white;
        // âŒ REMOVIDO: transform: scale(1.1); (causa lag y jank)
        box-shadow: 0 0 8px rgba(244, 67, 54, 0.4); // ğŸ‘ˆ SOMBRA MÃS SUTIL
        border-radius: 4px; // âš¡ AGREGAR BORDER RADIUS DIRECTO
      }
      
      &.beat-strong {
        background: rgba(255, 255, 255, 0.2);  // ğŸ‘ˆ BLANCO SUTIL (beats fuertes)
        color: rgba(0, 0, 0, 0.8);             // ğŸ‘ˆ TEXTO NEGRO PARA CONTRASTE
        font-weight: 700;
        border: 1px solid rgba(255, 255, 255, 0.3); // ğŸ‘ˆ BORDE PARA DEFINICIÃ“N
      }
      
      &.beat-weak {
        background: rgba(180, 180, 180, 0.15); // ğŸ‘ˆ GRIS SUTIL (beats dÃ©biles)
        color: rgba(0, 0, 0, 0.6);             // ğŸ‘ˆ TEXTO GRIS OSCURO
        border: 1px solid rgba(180, 180, 180, 0.2);
      }
    }
  }
  
  .tracks-container {
    contain: layout style; // âš¡ OPTIMIZACIÃ“N ADICIONAL
    
    .track-row-premium {
      contain: layout;
      cursor: pointer;
      // âŒ TRANSITION MÃS RÃPIDA PARA MENOS LAG
      transition: background-color 0.05s ease; // âš¡ SOLO BACKGROUND, MÃS RÃPIDO
      
      &:hover {
        background: rgba(255, 255, 255, 0.05);  // ğŸ‘ˆ HOVER BLANCO SUTIL
      }
      
      &.selected {
        background: rgba(255, 255, 255, 0.08);  // ğŸ‘ˆ SELECCIÃ“N BLANCA
        border-left: 4px solid rgba(255, 255, 255, 0.7); // ğŸ‘ˆ BORDE BLANCO
      }
      
      &.muted {
        opacity: 0.25;                          // ğŸ‘ˆ MÃS TRANSPARENTE
        filter: grayscale(1) brightness(0.7);   // ğŸ‘ˆ GRIS COMPLETO + OSCURO
        pointer-events: none;                   // âš¡ DESACTIVAR INTERACCIÃ“N
      }
      
      &.solo {
        border-left: 4px solid rgba(255, 140, 0, 0.9);   // ğŸ‘ˆ NARANJA CONSISTENTE
        background: rgba(255, 140, 0, 0.08);             // ğŸ‘ˆ FONDO NARANJA SUTIL
        box-shadow: inset 0 0 10px rgba(255, 140, 0, 0.1); // âš¡ GLOW INTERNO
      }
      
      &.has-audio {
        border-left: 3px solid rgba(255, 255, 255, 0.8); // ğŸ‘ˆ BORDE BLANCO PARA SAMPLES
        
        .sample-name.has-sample {
          color: rgba(255, 255, 255, 0.95);              // ğŸ‘ˆ BLANCO PURO
          font-weight: 700;
          text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);     // ğŸ‘ˆ SOMBRA PARA CONTRASTE
        }
      }
      
      // âš¡ ESTADOS COMBINADOS PARA MEJOR PERFORMANCE
      &.has-audio.selected {
        border-left: 4px solid rgba(255, 255, 255, 0.9);
        background: rgba(255, 255, 255, 0.12);
      }
      
      &.has-audio.solo {
        border-left: 4px solid rgba(255, 140, 0, 1);
        background: rgba(255, 140, 0, 0.1);
      }
    }
  }
}

// âš¡ OPTIMIZACIONES ESPECÃFICAS PARA CURRENT STEP
.step-number {
  // âš¡ FORZAR COMPOSITING LAYER SOLO PARA CURRENT STEP
  &.current-step-header {
    transform: translateZ(0); // âš¡ FORZAR GPU LAYER SIN SCALE
    will-change: background-color, box-shadow; // âš¡ SOLO LO QUE CAMBIA
  }
  
  // âŒ REMOVER WILL-CHANGE DE ELEMENTOS QUE NO LO NECESITAN
  &:not(.current-step-header) {
    will-change: auto;
  }
}

// âš¡ OPTIMIZACIÃ“N GLOBAL PARA SEQUENCER
.sequencer-main {
  // Evitar reflows durante playback
  transform: translateZ(0);
  
  // Optimizar scroll container
  .tracks-container {
    // âš¡ SCROLLING OPTIMIZADO
    -webkit-overflow-scrolling: touch;
    scroll-behavior: auto; // âŒ NO SMOOTH (causa lag)
  }
}

// ğŸ“± RESPONSIVE OPTIMIZADO (SIN LAG EN MÃ“VILES)
@media (max-width: 768px) {
  .step-number {
    // âŒ REMOVER TODAS LAS TRANSICIONES EN MÃ“VIL
    transition: none !important;
    
    &.current-step-header {
      // âš¡ EFECTO MÃS SIMPLE EN MÃ“VIL
      background: rgba(244, 67, 54, 0.9);
      box-shadow: none; // âŒ SIN SOMBRA EN MÃ“VIL
    }
  }
  
  .track-row-premium {
    transition: none !important; // âŒ SIN TRANSICIONES EN MÃ“VIL
  }
}

// âš¡ CRÃTICO: PREVENIR LAG DURANTE PLAYBACK
@media (prefers-reduced-motion: reduce) {
  .step-number,
  .track-row-premium {
    transition: none !important;
    animation: none !important;
  }
}









// ğŸµ Track Info Premium
.track-info-premium {
  contain: layout;
  
  .sample-section {
    .pad-number {
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    .sample-details {
      .status-dot {
        animation: pulse 2s infinite;
      }
    }
  }
  
  .track-controls {
    .control-btn-mini {
      background: rgba(255, 255, 255, 0.1);
      color: rgba(108, 117, 125, 1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      
      &.active {
        background: rgba(33, 37, 41, 1);
        color: white;
        box-shadow: 0 2px 8px rgba(33, 37, 41, 0.3);
      }
      
      &:hover {
        background: rgba(255, 255, 255, 0.2);
      }
      
      &:active {
        transform: scale(0.9);
      }
    }
  }
}



.steps-section {
  contain: layout;
  background: rgba(43, 38, 38, 0.47); // Tu fondo actual
  border-radius: 8px;
  
  .step-btn-premium {
    contain: layout style;
    border: 1.5px solid rgba(255, 255, 255, 0.2);
    position: relative;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
    
    // ğŸ¨ PatrÃ³n FL Studio - BLANCOS mÃ¡s contrastados
    &:nth-child(1), &:nth-child(2), &:nth-child(3), &:nth-child(4),
    &:nth-child(9), &:nth-child(10), &:nth-child(11), &:nth-child(12) {
      background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.6),    // ğŸ‘ˆ MÃS BLANCO (beats fuertes)
        rgba(240, 240, 240, 0.7)     // ğŸ‘ˆ BLANCO PURO
      );
      border-color: rgba(255, 255, 255, 0.5); // Borde mÃ¡s visible
      box-shadow: 
        inset 0 1px 2px rgba(255, 255, 255, 0.3),
        0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    &:nth-child(5), &:nth-child(6), &:nth-child(7), &:nth-child(8),
    &:nth-child(13), &:nth-child(14), &:nth-child(15), &:nth-child(16) {
      background: linear-gradient(135deg, 
        rgba(180, 180, 180, 0.4),    // ğŸ‘ˆ GRIS MEDIO (beats dÃ©biles)
        rgba(160, 160, 160, 0.5)     // ğŸ‘ˆ GRIS OSCURO
      );
      border-color: rgba(200, 200, 200, 0.4);
      box-shadow: 
        inset 0 1px 2px rgba(0, 0, 0, 0.1),
        0 1px 3px rgba(0, 0, 0, 0.15);
    }
    
    // ğŸ¯ Estados activos - BLANCO/GRIS elegante
    &.step-active {
      &:nth-child(1), &:nth-child(2), &:nth-child(3), &:nth-child(4),
      &:nth-child(9), &:nth-child(10), &:nth-child(11), &:nth-child(12) {
        background: linear-gradient(135deg, 
          rgba(255, 255, 255, 0.9),   // ğŸ‘ˆ BLANCO ACTIVO BRILLANTE
          rgba(240, 240, 240, 0.95)   // ğŸ‘ˆ BLANCO PURO ACTIVO
        );
        border-color: rgba(255, 255, 255, 0.8);
        box-shadow: 
          0 2px 8px rgba(255, 255, 255, 0.3),
          inset 0 1px 2px rgba(255, 255, 255, 0.4);
      }
      
      &:nth-child(5), &:nth-child(6), &:nth-child(7), &:nth-child(8),
      &:nth-child(13), &:nth-child(14), &:nth-child(15), &:nth-child(16) {
        background: linear-gradient(135deg, 
          rgba(220, 220, 220, 0.8),   // ğŸ‘ˆ GRIS CLARO ACTIVO
          rgba(200, 200, 200, 0.9)    // ğŸ‘ˆ GRIS MEDIO ACTIVO
        );
        border-color: rgba(220, 220, 220, 0.7);
        box-shadow: 
          0 2px 8px rgba(200, 200, 200, 0.3),
          inset 0 1px 2px rgba(255, 255, 255, 0.2);
      }
    }
    
    // ğŸ”´ Current playback - ROJO SUTIL (mÃ¡s elegante que amarillo)
    &.current-playback {
      background: linear-gradient(135deg, 
        rgba(244, 67, 54, 0.8),      // ğŸ‘ˆ ROJO ELEGANTE
        rgba(211, 47, 47, 0.9)       // ğŸ‘ˆ ROJO PROFUNDO
      ) !important;
      border-color: rgba(244, 67, 54, 0.9) !important;
      border-width: 2px;
      box-shadow: 
        0 0 15px rgba(244, 67, 54, 0.4),
        0 2px 8px rgba(244, 67, 54, 0.2) !important;
      transform: scale(1.05);
      z-index: 10;
    }
    
    // ğŸ”µ Step seleccionado - AZUL SUTIL
    &.step-selected {
      border-color: rgba(100, 149, 237, 0.8) !important; // ğŸ‘ˆ AZUL CORNFLOWER MÃS SUTIL
      border-width: 2px;
      box-shadow: 
        0 0 10px rgba(100, 149, 237, 0.3),
        inset 0 0 5px rgba(100, 149, 237, 0.1);
      z-index: 5;
    }
    
    // ğŸ¯ Hover states
    &:hover {
      filter: brightness(1.15);
      transform: scale(1.02);
      border-color: rgba(255, 255, 255, 0.7);
      box-shadow: 
        0 2px 8px rgba(0, 0, 0, 0.1),
        inset 0 1px 3px rgba(255, 255, 255, 0.4);
    }
    
    &:active {
      transform: scale(0.98);
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15);
    }
    
    // ğŸµ Step Content
    .step-content {
      .velocity-bar {
        contain: layout;
        pointer-events: none;
        transition: height 0.1s ease;
        
        // Velocity bars en tonos grises/blancos
        .step-btn-premium:nth-child(1) &, 
        .step-btn-premium:nth-child(2) &, 
        .step-btn-premium:nth-child(3) &, 
        .step-btn-premium:nth-child(4) &,
        .step-btn-premium:nth-child(9) &, 
        .step-btn-premium:nth-child(10) &, 
        .step-btn-premium:nth-child(11) &, 
        .step-btn-premium:nth-child(12) & {
          background: linear-gradient(to top,
            rgba(0, 0, 0, 0.3),        // ğŸ‘ˆ NEGRO SUTIL ABAJO
            rgba(0, 0, 0, 0.1)         // ğŸ‘ˆ TRANSPARENTE ARRIBA
          );
        }
        
        .step-btn-premium:nth-child(5) &, 
        .step-btn-premium:nth-child(6) &, 
        .step-btn-premium:nth-child(7) &, 
        .step-btn-premium:nth-child(8) &,
        .step-btn-premium:nth-child(13) &, 
        .step-btn-premium:nth-child(14) &, 
        .step-btn-premium:nth-child(15) &, 
        .step-btn-premium:nth-child(16) & {
          background: linear-gradient(to top,
            rgba(255, 255, 255, 0.4),  // ğŸ‘ˆ BLANCO SUTIL ABAJO
            rgba(255, 255, 255, 0.2)   // ğŸ‘ˆ BLANCO TRANSPARENTE ARRIBA
          );
        }
      }
      
      .active-overlay {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.15);
        pointer-events: none;
      }
      
      .step-number {
        color: rgba(0, 0, 0, 0.7);     // ğŸ‘ˆ NEGRO PARA CONTRASTE
        font-size: 8px;
        line-height: 1;
        text-shadow: 0 1px 2px rgba(255, 255, 255, 0.6);
      }
      
      .probability-indicator {
        background: linear-gradient(135deg, 
          rgba(255, 140, 0, 0.8),      // ğŸ‘ˆ NARANJA SUTIL
          rgba(255, 111, 0, 0.9)       // ğŸ‘ˆ NARANJA PROFUNDO
        );
        box-shadow: 0 1px 3px rgba(255, 140, 0, 0.4);
        animation: probability-pulse 2s infinite;
      }
      
      .pan-indicator {
        background: linear-gradient(135deg, 
          rgba(100, 149, 237, 0.7),    // ğŸ‘ˆ AZUL CORNFLOWER SUTIL
          rgba(72, 118, 255, 0.8)      // ğŸ‘ˆ AZUL PROFUNDO
        );
        box-shadow: 0 1px 2px rgba(100, 149, 237, 0.4);
      }
    }
  }
}


// ğŸšï¸ Advanced Controls Premium
.advanced-controls-premium {
  contain: layout;
  
  .advanced-header {
    .close-btn {
      transition: all 0.1s ease;
      
      &:hover {
        background: rgba(173, 181, 189, 0.6);
        transform: scale(1.1);
      }
    }
  }
  
  .controls-grid {
    .control-section {
      .control-wrapper {
        transition: all 0.2s ease;
        
        &:hover {
          border-color: rgba(255, 255, 255, 0.4);
          background: rgba(255, 255, 255, 0.08);
        }
      }
      
      .premium-slider {
        -webkit-appearance: none;
        appearance: none;
        cursor: pointer;
        
        &::-webkit-slider-thumb {
          -webkit-appearance: none;
          appearance: none;
          width: 24px;
          height: 24px;
          background: linear-gradient(135deg, rgba(33, 37, 41, 0.9), rgba(33, 37, 41, 1));
          border-radius: 50%;
          cursor: pointer;
          border: 3px solid rgba(255, 255, 255, 0.4);
          box-shadow: 0 3px 12px rgba(0, 0, 0, 0.2);
        }
        
        &::-moz-range-thumb {
          width: 24px;
          height: 24px;
          background: linear-gradient(135deg, rgba(33, 37, 41, 0.9), rgba(33, 37, 41, 1));
          border-radius: 50%;
          cursor: pointer;
         border: 3px solid rgba(255, 255, 255, 0.4);
         box-shadow: 0 3px 12px rgba(0, 0, 0, 0.2);
       }
     }
     
     .value-display {
       background: rgba(255, 255, 255, 0.1);
       border-radius: 6px;
       padding: 4px 8px;
       border: 1px solid rgba(255, 255, 255, 0.2);
     }
   }
 }
 
 .advanced-options {
   .option-control {
     transition: all 0.2s ease;
     
     &:hover {
       border-color: rgba(255, 255, 255, 0.4);
       background: rgba(255, 255, 255, 0.08);
     }
     
     input[type="checkbox"] {
       cursor: pointer;
       transition: all 0.1s ease;
       
       &:checked {
         background: rgba(33, 37, 41, 0.9);
         border-color: rgba(33, 37, 41, 1);
       }
     }
     
     .premium-slider {
       -webkit-appearance: none;
       appearance: none;
       cursor: pointer;
       
       &::-webkit-slider-thumb {
         -webkit-appearance: none;
         appearance: none;
         width: 16px;
         height: 16px;
         background: rgba(33, 37, 41, 1);
         border-radius: 50%;
         cursor: pointer;
         border: 2px solid rgba(255, 255, 255, 0.3);
       }
       
       &::-moz-range-thumb {
         width: 16px;
         height: 16px;
         background: rgba(33, 37, 41, 1);
         border-radius: 50%;
         cursor: pointer;
         border: 2px solid rgba(255, 255, 255, 0.3);
       }
     }
   }
 }
}

// ğŸšï¸ Grid layout helper
.grid-cols-16 {
 grid-template-columns: repeat(16, minmax(0, 1fr));
}

// ğŸ“± Responsive Premium
@media (max-width: 1024px) {
 .transport-section {
   .transport-main {
     flex-wrap: wrap;
     gap: 3rem;
   }
   
   .global-controls-section {
     flex-wrap: wrap;
     gap: 2rem;
   }
 }
 
 .advanced-controls-premium {
   .controls-grid {
     grid-template-columns: 1fr 1fr;
     gap: 1rem;
   }
 }
}

@media (max-width: 768px) {
 .sequencer-container {
   padding: 1rem;
 }
 
 .transport-section {
   .transport-main, .global-controls-section {
     flex-direction: column;
     align-items: stretch;
     gap: 1rem;
   }
   
   .play-btn-premium {
     width: 100%;
     height: 3rem;
   }
 }
 
 .track-info-premium {
   width: 140px;
   
   .sample-details .sample-name {
     font-size: 0.75rem;
   }
 }
 
 // ğŸ¯ Mejoras especÃ­ficas para cada tipo de beat
.step-btn-premium {
  // Beats principales (1, 5, 9, 13) - Extra emphasis
  &:nth-child(1), &:nth-child(5), &:nth-child(9), &:nth-child(13) {
    &::before {
      content: '';
      position: absolute;
      top: -1px;
      left: -1px;
      right: -1px;
      bottom: -1px;
      background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.3), 
        rgba(255, 255, 255, 0.1)
      );
      border-radius: 6px;
      z-index: -1;
    }
  }
  
  // Snare beats (5, 13) - Extra visual weight
  &:nth-child(5), &:nth-child(13) {
    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 8px;
      height: 2px;
      background: rgba(255, 255, 255, 0.4);
      border-radius: 1px;
    }
  }
}
 
 .advanced-controls-premium {
   .controls-grid {
     grid-template-columns: 1fr;
     gap: 1rem;
   }
   
   .advanced-options {
     flex-direction: column;
     align-items: stretch;
     gap: 1rem;
   }
 }
}

@media (max-width: 480px) {
 .grid-cols-16 {
   grid-template-columns: repeat(8, minmax(0, 1fr));
 }
 
 .track-info-premium {
   width: 100px;
   
   .sample-details .sample-name {
     display: none;
   }
 }
 
 .step-btn-premium {
   width: 1.25rem;
   height: 1.75rem;
 }
}

// âš¡ Performance optimizations
* {
 backface-visibility: hidden;
}

// Will-change solo donde es crÃ­tico
.step-btn-premium.current-playback {
 will-change: transform, border-color, box-shadow;
}

.current-step-header {
 will-change: transform, background-color;
}

.play-btn-premium.playing {
 will-change: background, box-shadow;
}

// ğŸ¨ Animations
@keyframes pulse {
 0%, 100% { 
   opacity: 1; 
 }
 50% { 
   opacity: 0.6; 
 }
}

